# 現実世界を数学の世界で考えた例
ここでは、私が現在従事しているスーパーのお惣菜の値下げ業務を例に、論理構造を数学的に考えた例をご紹介したいと思います。

### スーパーで行われる惣菜の値下げ業務の前提
スーパーで取り扱っているお惣菜は一般的にその日に製造され、その日のうちに賞味期限を迎える商品を数多く取り扱っています。基本的には売上高のほとんどは売り切り対象商品だと思います。<br>
値下げする目的は、夕方以降、過剰に生産した部分について値下げし、廃棄を無くすことです。<br>
しかし実情は夕方以降値下げしないと売れないということであり、お仕事帰りのお客様のピークがある以上、惣菜全体の売上高に対し、値下額は大きなウェイトを占めているというのが現実だと思います。<br>
また人員構成については、値下げする人員よりも、生産する人員の方が多く、また役職者は生産計画数の策定に大きな時間を割かれており、その日の値下げ業務の出来栄えについてよく分からず、値下げ額が多いということが生産額が多いのか、値下げ業務が不当だったのか分からずじまいではないかと思います。<br>

まとめると、値下げ業務というのは、<br>

- 値下げチームは扱っている額が売上に対し無視できない大きさである。
- 生産額は計画的だが、値下げは計画的でない

ということが挙げられると思います。

### 値下げ業務の点と矢印の論理
まず、一般的なスーパーで管理していると思われる方程式を確認します。
```
生産額 - 値下額 = 売上高
```
※値下額に廃棄額は含まれます。万引きや在庫ロスなど含まれませんが、上記の方程式が成り立つものとします。

「値下額が圧縮されると売上高が増える」は真です。<br>
上記の方程式を書き換えると次のようになります。
```
          値下業務
[生産額] ----------> [売上高]
```
生産額を値下業務に通すと売上高に変換されることを示します。言い換えれば値下業務というのは生産額を売上高に変換する関数だということです。<br>

この論理において次の文章は論理的に正しいです。

- 今日は通常よりたくさん生産したが、これから雨が降ることが予報されたので、通常より大きな値下幅で早めに売り切った。
- 今日はお客様が多く来店すると予想したが、生産量が少ないのであまり値下しなかった。

値下をする人間が生産高を受けて、その日の行動を考えています。

一方次の論理は正しくない可能性があります。

- 値下額が低いから、生産していない。
- 値下額が低いから、値下業務が上手かった。

値下額は、値下業務という関数に生産額を通して現れますから、値下額単体で見ても分からないということです。

生産から値下という流れがある以上、生産量が過剰なのに、値下額がいつもより少ないのはそれは素晴らしいことですし、生産量が過小だったのに、値下額が少ないということはそれは当然だということになります。<br>
さらにその日の天候、曜日、イベント等によってその日、その時間の来店客数は変化しますから、生産額が過剰だったかどうかその額から判定することはできません。ましてや値下額は、生産額と値下業務の能力によって決まるということですから、値下がその日よかったかどうかはきちんと整理しないと極めてカオスな状態に陥りやすいということは言えると思います。<br>

このことから、値下業務の評価は、次のように表現できます。生産額などの過剰、過小について表現したものを「正規化された」と表すことにすると、<br>
```
「正規化された値下関数」とは、
任意の[正規化された生産高指数]を、[正規化された売上指数]に変換する「関数」
```
```
「正規化された値下業務の評価」とは、
「正規化された値下関数」の変化率のこと
```
を差し、そのような関数の変化率をPOSデータからどのようにして表現するのかということがこの後の流れになります。<br>
実際の分析については、社内情報の流出の範囲に触れるか触れないか物議を醸しますので、省略させていただきます。

### 最後に
現状として、スーパーの業務というのは非常に多忙でそのような分析を行っている時間はありませんし、仕組み化するにもパート社員さんに密にコミュニケーションを取らないといけないですから、いわゆるDXの障壁は非常に高いと実感しています。<br>
私の現在従事している職場では、なんとか電卓一つ、またその日の評価もできるだけ少ない時間で(残業なんてもってのほか)導入しないといけなかったですから、その点の社内調整力も拾っていただければ幸いです。
